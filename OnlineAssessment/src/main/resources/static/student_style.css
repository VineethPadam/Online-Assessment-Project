/* -------------------- Modal Styling -------------------- */
.modal {
    position: fixed;
    z-index: 3000;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background-color: rgba(40,0,70,0.65);
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.35s ease;
    backdrop-filter: blur(6px);
}
.modal:not(.hidden) {
    opacity: 1;
    pointer-events: auto;
}
.modal-content {
    background: #fff;
    border-radius: 20px;
    width: 700px;
    max-width: 95%;
    padding: 40px 45px;
    box-shadow: 0 15px 45px rgba(0,0,0,0.35);
    text-align: center;
    position: relative;
    transform: translateY(-60px);
    opacity: 0;
    animation: modalFadeIn 0.4s forwards;
    border: 3px solid #6a0dad;
}
@keyframes modalFadeIn {
    0% { opacity: 0; transform: translateY(-60px) scale(0.9);}
    60% { opacity: 1; transform: translateY(0) scale(1.05);}
    100% { opacity: 1; transform: translateY(0) scale(1);}
}
.close {
    position: absolute; right:20px; top:18px;
    font-size:28px; font-weight:bold;
    cursor:pointer; color:#6a0dad;
    transition: transform 0.25s, color 0.25s;
}
.close:hover { transform: rotate(90deg); color:#4a087d; }
.modal-header {
    font-size:28px; font-weight:800; margin-bottom:22px;
    color:#6a0dad; text-shadow:1px 1px 3px rgba(0,0,0,0.15);
}
.modal-body input, .modal-body select {
    width: 80%; padding:10px 14px; margin:12px 0;
    border-radius:12px; border:2px solid #6a0dad;
    font-size:15px; font-weight:600;
    background:#fdf5ff; color:#000;
    transition: all 0.3s; outline:none;
}
.modal-body input:focus, .modal-body select:focus {
    border-color:#6a0dad;
    box-shadow:0 0 10px rgba(106,13,173,0.35);
}
.modal-body select {
    appearance: none; -webkit-appearance: none; -moz-appearance: none;
    background-image:url('data:image/svg+xml;charset=US-ASCII,<svg fill="%236a0dad" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
    background-repeat:no-repeat; background-position:right 15px center;
    background-size:18px; cursor:pointer;
}
.modal-body ul { list-style:none; padding:0; margin:0; }
.modal-body ul li {
    padding:16px 20px; margin-bottom:12px;
    background:#fdf5ff; border-radius:14px; cursor:pointer;
    font-weight:600; border:2px solid #6a0dad; transition: all 0.25s;
}
.modal-body ul li:hover { background:#6a0dad; color:#fff; border-color:#6a0dad; transform: translateY(-3px); }
.modal-footer { margin-top:22px; display:flex; justify-content:center; gap:14px; }
.login-btn, .back-btn {
    padding:14px 24px; border-radius:12px; font-weight:700;
    border:none; cursor:pointer; transition: all 0.3s;
}
.login-btn {
    background: linear-gradient(45deg,#6a0dad,#8e44ad);
    color:#fff; box-shadow:0 6px 16px rgba(106,13,173,0.35);
}
.login-btn:hover { background: linear-gradient(45deg,#5a0cbb,#732d91); transform: translateY(-2px); }
.back-btn { background:#ccc; color:#333; }
.back-btn:hover { background:#999; transform: translateY(-2px); }

/* -------------------- Quiz Container Styling -------------------- */
.quiz-container {
    position: fixed; top:50%; left:50%;
    transform:translate(-50%,-50%);
    z-index:2000; width:85%; max-width:950px;
    background:#fff; padding:30px 35px; border-radius:16px;
    box-shadow:0 6px 25px rgba(0,0,0,0.35);
    max-height:90vh; overflow-y:auto;
}
.quiz-header { font-size:24px; font-weight:800; text-align:center; margin-bottom:20px; color:#6a0dad; }
.quiz-info { display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; margin-bottom:20px; }
.quiz-question { margin-bottom:25px; }
.quiz-question .question-text { 
    font-weight:700; font-size:18px; margin-bottom:12px; color:#333;
    white-space: pre-wrap; /* preserves hierarchy and line breaks */
}
.quiz-options { display:flex; flex-wrap:wrap; gap:14px; }
.option-card {
    display:flex; align-items:center; gap:10px; border:2px solid #6a0dad;
    padding:12px 14px; border-radius:10px; cursor:pointer;
    transition:0.2s; background:#fdf5ff; flex:1 1 calc(50% - 14px); font-weight:600;
    white-space: pre-wrap; /* preserves line breaks in options */
}
.option-card:hover { background:#6a0dad; color:#fff; border-color:#6a0dad; }
.option-card input { accent-color:#6a0dad; }

/* -------------------- Result Table -------------------- */
.result-table { width:100%; border-collapse:collapse; margin-top:20px; font-size:15px; }
.result-table th, .result-table td { border:1px solid #ddd; padding:12px; text-align:left; }
.result-table th { background:#6a0dad; color:#fff; font-weight:700; text-transform:uppercase; }
.result-table tr:nth-child(even) { background:#fdf5ff; }

/* -------------------- Option Card Colors -------------------- */
.option-card.correct-selected { background-color:#28a745; color:#fff; font-weight:700; border:2px solid #1e7e34; }
.option-card.correct { background-color:#d4edda; color:#155724; font-weight:700; border:2px solid #28a745; }
.option-card.wrong-selected { background-color:#f8d7da; color:#721c24; font-weight:700; border:2px solid #dc3545; }
.option-card.not-attempted { background-color:#cce5ff; color:#004085; font-weight:700; border:2px solid #007bff; }

/* Scrollable key container */
.key-container { max-height:70vh; overflow-y:auto; padding-right:10px; }
.key-container .option-card:hover { transform:none; background-color:inherit; color:inherit; cursor:default; }

/* Responsive adjustments */
@media (max-width:768px){
    .quiz-container, .modal-content { width:95%; padding:25px 20px; }
    .quiz-info { grid-template-columns:1fr 1fr; }
    .option-card { flex:1 1 100%; }
}
