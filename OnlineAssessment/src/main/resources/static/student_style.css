/* -------------------- General Modal Styling -------------------- */
.modal {
    position: fixed;
    z-index: 3000;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background-color: rgba(40,0,70,0.65);
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.35s ease;
    backdrop-filter: blur(6px);
}
.modal:not(.hidden) { opacity: 1; pointer-events: auto; }

.modal-content {
    background: #fff;
    border-radius: 16px;
    width: 900px;
    max-width: 95%;
    padding: 20px 30px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    text-align: center;
    position: relative;
    transform: translateY(-30px);
    opacity: 0;
    animation: modalFadeIn 0.4s forwards;
    border: 2px solid #6a0dad;
}
@keyframes modalFadeIn {
    0% { opacity:0; transform: translateY(-30px) scale(0.95);}
    60% { opacity:1; transform: translateY(0) scale(1.02);}
    100% { opacity:1; transform: translateY(0) scale(1);}
}

.close {
    position:absolute; right:20px; top:18px;
    font-size:26px; font-weight:bold;
    cursor:pointer; color:#6a0dad;
    transition: transform 0.25s, color 0.25s;
}
.close:hover { transform: rotate(90deg); color:#4a087d; }

.modal-header { font-size:24px; font-weight:700; color:#6a0dad; margin-bottom:15px; text-shadow:1px 1px 3px rgba(0,0,0,0.1);}
.modal-body { text-align:left; }

/* Buttons */
.login-btn, .back-btn {
    padding: 10px 20px; border-radius: 10px; font-weight:600; border:none; cursor:pointer; transition: all 0.25s; margin:5px 5px 5px 0;
}
.login-btn { background: linear-gradient(45deg,#6a0dad,#8e44ad); color:#fff; box-shadow:0 4px 12px rgba(106,13,173,0.3);}
.login-btn:hover { transform: translateY(-2px);}
.back-btn { background:#ccc; color:#333;}
.back-btn:hover { background:#999; transform: translateY(-2px); }

/* -------------------- Overlay Center for Quiz / Key -------------------- */
.overlay-center {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2500;
    background-color: rgba(0,0,0,0.2);
    overflow-y: auto;
    padding: 20px;
}

/* -------------------- Quiz / Key Container Styling -------------------- */
.quiz-container, .key-container {
    background:#fff; 
    border-radius:16px;
    padding:20px 25px;
    box-shadow:0 6px 25px rgba(0,0,0,0.35);
    max-height:90vh;
    overflow-y:auto;
    width:90%;
    max-width:950px;
    margin:auto;
    display:flex;
    flex-direction: column;
    align-items: stretch;
}

/* Header and Info */
.quiz-header { font-size:22px; font-weight:700; color:#6a0dad; text-align:center; margin-bottom:15px; }
.quiz-info { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-bottom:20px; background:#f8f0ff; padding:12px 15px; border-radius:12px; border:1px solid #6a0dad; }

/* Questions and Options */
.quiz-question { margin-bottom:15px; }
.quiz-question .question-text { font-weight:600; font-size:16px; margin-bottom:8px; color:#333; white-space: pre-wrap; } /* preserve line breaks */
.quiz-options { display:flex; flex-wrap:wrap; gap:10px; justify-content: flex-start; }

.option-card {
    display:flex; align-items:center; gap:8px;
    border:2px solid #6a0dad; padding:10px 12px; border-radius:10px;
    cursor:pointer; transition:0.25s; background:#fdf5ff; flex:1 1 calc(50% - 10px); font-weight:600;
    white-space: pre-wrap; /* preserve line breaks */
}
.option-card:hover { background:#6a0dad; color:#fff; border-color:#6a0dad; }
.option-card input { accent-color:#6a0dad; }
.option-card.selected { background:#6a0dad; color:#fff; border-color:#4a087d; }
.option-card.correct-selected { background-color:#28a745; color:#fff; border:2px solid #1e7e34; font-weight:700; }
.option-card.correct { background-color:#d4edda; color:#155724; border:2px solid #28a745; font-weight:700; }
.option-card.wrong-selected { background-color:#f8d7da; color:#721c24; border:2px solid #dc3545; font-weight:700; }

/* Key container */
.key-container { border: 2px solid #6a0dad; border-radius: 12px; padding: 20px; background: #fdf5ff; }

/* -------------------- Take Quiz / Dropdown Styling -------------------- */
.modal-body select, .modal-body input[type=text] {
    width: 100%; padding: 10px 14px; margin: 10px 0; border-radius: 12px; border: 2px solid #6a0dad;
    background:#fdf5ff; font-weight:600; font-size:15px; outline:none; transition: all 0.3s;
}
.modal-body select:focus, .modal-body input:focus { border-color:#6a0dad; box-shadow:0 0 10px rgba(106,13,173,0.25); }

/* Active Quizzes list items */
.modal-body ul { list-style:none; padding:0; margin:0; }
.modal-body ul li { padding:14px 18px; margin-bottom:10px; background:#fdf5ff; border:2px solid #6a0dad; border-radius:12px; cursor:pointer; font-weight:600; transition: all 0.25s; white-space: pre-wrap; }
.modal-body ul li:hover { background:#6a0dad; color:#fff; transform:translateY(-2px); }

/* Responsive */
@media(max-width:768px){
    .quiz-container, .key-container, .modal-content { width:95%; padding:15px; }
    .quiz-info { grid-template-columns:1fr 1fr; }
    .option-card { flex:1 1 100%; }
}
